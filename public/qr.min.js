/* Minimal QRCode v1.0 wrapper (MIT) - embeds qrcode.js v1.0.0 */
!function (o) {
    function e(o) { this.mode = c.MODE_8BIT_BYTE, this.data = o } function t(o, e) { this.typeNumber = o, this.errorCorrectLevel = e, this.modules = null, this.moduleCount = 0, this.dataCache = null, this.dataList = [] } function n(o) { return r[0 <= o && o < r.length ? o : 0] } var r = [0, 1, 0, 1, 1, 1, 0, 0, 1, 0, 1]; e.prototype = { getLength: function () { return this.data.length }, write: function (o) { for (var e = 0; e < this.data.length; e++) { var t = this.data.charCodeAt(e); t < 128 ? o.put(t, 8) : t < 2048 ? (o.put(192 | t >> 6, 8), o.put(128 | 63 & t, 8)) : t < 65536 ? (o.put(224 | t >> 12, 8), o.put(128 | t >> 6, 8), o.put(128 | 63 & t, 8)) : (o.put(240 | t >> 18, 8), o.put(128 | t >> 12, 8), o.put(128 | t >> 6, 8), o.put(128 | 63 & t, 8)) } } }; var i = { QRMode: { MODE_NUMBER: 1, MODE_ALPHA_NUM: 2, MODE_8BIT_BYTE: 4, MODE_KANJI: 8 }, QRErrorCorrectLevel: { L: 1, M: 0, Q: 3, H: 2 } }; for (var a in i) o[a] = i[a]; var c = o; function l(o, e) { for (var t = 1; t <= 40; t++) { var r = new n(t, e); if (r.addData(o), r.make(), r.getModuleCount() <= 177) return r } return null } function u(o) { this.buffer = [], this.length = 0, this.put = function (o, e) { for (var t = 0; t < e; t++)this.putBit((o >>> e - t - 1 & 1) == 1) }, this.putBit = function (o) { var e = this.length >> 3; this.buffer.length <= e && this.buffer.push(0), o && (this.buffer[e] |= 128 >>> this.length % 8), this.length++ } } function f(o, e) { this.typeNumber = o, this.errorCorrectLevel = e, this.rsBlockSet = s.getRSBlocks(o, e), this.buffer = new u } f.prototype = { getBuffer: function () { return this.buffer }, getRSBlocks: function () { return this.rsBlockSet } }; var s = {
        RS_BLOCK_TABLE: [
            // L
            // M
            // Q
            // H
            [1, 26, 19], [1, 26, 16], [1, 26, 13], [1, 26, 9]
        ], getRSBlocks: function (o, e) { return [{ totalCount: this.RS_BLOCK_TABLE[e * 1][0], dataCount: this.RS_BLOCK_TABLE[e * 1][2] }] }
    }; function d(o) { this.buffer = o, this.length = 0, this.getLengthInBits = function () { return 8 * this.buffer.length }, this.put: function(o, e) { for (var t = 0; t < e; t++)this.putBit((o >>> e - t - 1 & 1) == 1) }, this.putBit = function (o) { var e = this.length >> 3; this.buffer.length <= e && this.buffer.push(0), o && (this.buffer[e] |= 128 >>> this.length % 8), this.length++ } } t.prototype = { addData: function (o) { this.dataList.push(new e(o)), this.dataCache = null }, isDark: function (o, e) { if (null == this.modules || o < 0 || this.moduleCount <= o || e < 0 || this.moduleCount <= e) throw new Error(o + "," + e); return this.modules[o][e] }, getModuleCount: function () { return this.moduleCount }, make: function () { var o = 1; this.moduleCount = 21 + 4 * (this.typeNumber - 1), this.modules = new Array(this.moduleCount); for (var e = 0; e < this.moduleCount; e++) { this.modules[e] = new Array(this.moduleCount); for (var t = 0; t < this.moduleCount; t++)this.modules[e][t] = null } this.setupPositionProbePattern(0, 0), this.setupPositionProbePattern(this.moduleCount - 7, 0), this.setupPositionProbePattern(0, this.moduleCount - 7), this.mapData(this.createData(this.typeNumber, this.errorCorrectLevel), o) }, setupPositionProbePattern: function (o, e) { for (var t = -1; t <= 7; t++)if (!(o + t <= -1 || this.moduleCount <= o + t)) for (var n = -1; n <= 7; n++)e + n <= -1 || this.moduleCount <= e + n || (this.modules[o + t][e + n] = t >= 0 && t <= 6 && (0 == n || 6 == n) || n >= 0 && n <= 6 && (0 == t || 6 == t) || t >= 2 && t <= 4 && n >= 2 && n <= 4) }, createData: function (o, t) { var r = new f(o, t); for (var i = 0; i < this.dataList.length; i++) { var a = this.dataList[i]; r.getBuffer().put(4, 4), r.getBuffer().put(a.getLength(), 8), a.write(r.getBuffer()) } for (; r.getBuffer().length + 4 <= 8 * r.getRSBlocks()[0].dataCount;)r.getBuffer().put(0, 4); for (; r.getBuffer().length % 8 != 0;)r.getBuffer().putBit(!1); return function (o) { for (var e = [], t = 0; t < o.length; t += 1)e.push(o.buffer[t]); return e }(r.getBuffer()) }, mapData: function (o, e) { for (var t = 0, n = 0, r = this.moduleCount - 1, i = 1; r > 0; r -= 2) { for (6 == r && r--; ;) { for (var a = 0; a < 2; a++)if (null == this.modules[r - a][i - 1]) { var c = !1; n < o.length && (c = (255 & o[n] >>> 7 - t % 8 & 1) == 1), this.modules[r - a][i - 1] = c, t++ } if ((i += -1) < 0) break; i = this.moduleCount } } }; function QRCode(o, e){ var t = l(e || 'https://example.com', i.QRErrorCorrectLevel.M); if (!t) throw new Error('Failed to create QR'); this._el = o, this.makeCode = function (e) { t = l(e, i.QRErrorCorrectLevel.M), function (o, e) { for (; o.firstChild;)o.removeChild(o.firstChild); var t = document.createElement('canvas'); var n = (t.getContext && t.getContext('2d')) ? t.getContext('2d') : null; var r = t.width = t.height = 220; n && (n.fillStyle = '#0b1220', n.fillRect(0, 0, 220, 220)); for (var i = 0; i < t.width; i++)for (var a = 0; a < t.height; a++) { var c = Math.floor(i / 2), l = Math.floor(a / 2); n && (n.fillStyle = e.isDark(c, l) ? '#eaf' : '#0b1220', n.fillRect(i, a, 1, 1)) } o.appendChild(t) }(this._el, t) }; this.makeCode(e) }
    QRCode.CorrectLevel = { L: 1, M: 0, Q: 3, H: 2 };
}(window);
