# MMC-MMS 2026 - ูุธุงู ุฅุฏุงุฑุฉ ุงููุฌูุฉ ุงูุทุจูุฉ ุงูุนุณูุฑูุฉ

## ๐ ูุธุฑุฉ ุนุงูุฉ
ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ ุทูุงุจูุฑ ุงููุฑุงุฌุนูู ูุงููุณุงุฑุงุช ุงูุทุจูุฉ ูู ุงููุฑูุฒ ุงูุทุจู ุงูุนุณูุฑู.

## ๐ ุงููููุฒุงุช ุงูุฌุฏูุฏุฉ

### Backend TypeScript Stack
- **Express API Server** ูุน TypeScript ู NodeNext
- **ุฎุฏูุงุช ุฃุณุงุณูุฉ**:
  - `pinService` - ุฅุฏุงุฑุฉ ุฃุฑูุงู PIN
  - `queueManager` - ุฅุฏุงุฑุฉ ุงูุทูุงุจูุฑ
  - `routeService` - ุฅุฏุงุฑุฉ ุงููุณุงุฑุงุช ุงูุทุจูุฉ
  - `notificationService` - ูุธุงู ุงูุฅุดุนุงุฑุงุช SSE
  - `validateBeforeDisplay` - ุงูุชุญูู ูู ุตุญุฉ ุงูุชุฐุงูุฑ
  - `health-check` - ูุญุต ุตุญุฉ ุงููุธุงู

### Configuration Files
- `config/constants.json` - ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ ูููุธุงู
- `config/clinics.json` - ุจูุงูุงุช ุงูุนูุงุฏุงุช
- `config/routeMap.json` - ุฎุฑุงุฆุท ุงููุณุงุฑุงุช ุงูุทุจูุฉ

### API Endpoints
- `POST /api/pin/issue` - ุฅุตุฏุงุฑ ุฑูู PIN ุฌุฏูุฏ
- `POST /api/pin/validate` - ุงูุชุญูู ูู ุตุญุฉ PIN
- `POST /api/queue/enter` - ุฏุฎูู ุงูุทุงุจูุฑ
- `POST /api/queue/complete` - ุฅููุงู ุงููุญุต
- `POST /api/route/assign` - ุชุนููู ูุณุงุฑ ุทุจู
- `POST /api/route/next` - ุงูุงูุชูุงู ููุนูุงุฏุฉ ุงูุชุงููุฉ
- `GET /api/events` - Server-Sent Events ููุฅุดุนุงุฑุงุช ุงูุญูุฉ
- `GET /api/health` - ูุญุต ุตุญุฉ ุงููุธุงู

## ๐๏ธ ุงูุชุซุจูุช ูุงูุชุดุบูู

### ุงููุชุทูุจุงุช
- Node.js >= 18.0.0
- npm ุฃู yarn

### ุงูุชุซุจูุช
```bash
npm install
```

### ุชุดุบูู ุงูุชุทููุฑ
```bash
# ุชุดุบูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ
npm run dev

# ุชุดุบูู ุงูุฎุงุฏู ุงูุฎููู
npm run server:dev

# ุฃู ุชุดุบูู ุงูุงุซููู ูุนุงู
npm run dev & npm run server:dev
```

### ุงูุจูุงุก ููุฅูุชุงุฌ
```bash
# ุจูุงุก ุงูุฎุงุฏู ุงูุฎููู
npm run server:build

# ุจูุงุก ุงููุงุฌูุฉ ุงูุฃูุงููุฉ
npm run build

# ุชุดุบูู ุงูุฅูุชุงุฌ
npm run server:start
```

## ๐ ูููู ุงููุดุฑูุน

```
2026/
โโโ config/                 # ูููุงุช ุงูุชูููู
โ   โโโ constants.json      # ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ
โ   โโโ clinics.json        # ุจูุงูุงุช ุงูุนูุงุฏุงุช
โ   โโโ routeMap.json       # ุฎุฑุงุฆุท ุงููุณุงุฑุงุช
โโโ src/
โ   โโโ api/               # API Routes
โ   โ   โโโ routes/        # Express routers
โ   โโโ core/              # ุฎุฏูุงุช ุงููุธุงู ุงูุฃุณุงุณูุฉ
โ   โ   โโโ monitor/       # ูุฑุงูุจุฉ ุตุญุฉ ุงููุธุงู
โ   โ   โโโ notifications/ # ูุธุงู ุงูุฅุดุนุงุฑุงุช
โ   โ   โโโ routing/       # ุฅุฏุงุฑุฉ ุงููุณุงุฑุงุช
โ   โ   โโโ validation/    # ุงูุชุญูู ูู ุงูุจูุงูุงุช
โ   โโโ utils/             # ุฃุฏูุงุช ูุณุงุนุฏุฉ
โ   โ   โโโ fs-atomic.ts   # ุนูููุงุช ุงููููุงุช ุงูุขููุฉ
โ   โ   โโโ logger.ts      # ูุธุงู ุงูุณุฌูุงุช
โ   โ   โโโ time.ts        # ูุนุงูุฌุฉ ุงูููุช ูุงูุชูุงุฑูุฎ
โ   โโโ types/             # ุชุนุฑููุงุช TypeScript
โ   โโโ components/        # ููููุงุช React
โ   โโโ lib/              # ููุชุจุงุช ุงููุงุฌูุฉ
โ   โโโ index.ts          # ููุทุฉ ุฏุฎูู ุงูุฎุงุฏู
โ   โโโ main.jsx          # ููุทุฉ ุฏุฎูู ุงููุงุฌูุฉ
โโโ public/               # ูููุงุช ุซุงุจุชุฉ
โโโ data/                 # ุชุฎุฒูู ุงูุจูุงูุงุช
โ   โโโ pins/            # ุฃุฑูุงู PIN ุงูููุตุฏุฑุฉ
โ   โโโ queues/          # ุจูุงูุงุช ุงูุทูุงุจูุฑ
โ   โโโ routes/          # ูุณุงุฑุงุช ุงููุฑุงุฌุนูู
โ   โโโ audit/           # ุณุฌูุงุช ุงูุชุฏููู
โโโ dist_server/         # ุงูุฎุงุฏู ุงูููุชุฑุฌูู
โโโ .env.example         # ูุซุงู ุนูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
โโโ tsconfig.json        # ุฅุนุฏุงุฏุงุช TypeScript
โโโ package.json         # ุงุนุชูุงุฏูุงุช ุงููุดุฑูุน
```

## โ๏ธ ุงูุชูููู

### ูุชุบูุฑุงุช ุงูุจูุฆุฉ (.env)
```bash
# Frontend
VITE_SITE_URL=https://example.com
VITE_API_ORIGIN=https://api.example.com
VITE_ENABLE_DEBUG=false

# Backend
PORT=3000
NODE_ENV=production
ALLOW_ADMIN=1
```

### ุฅุนุฏุงุฏุงุช ุงููุธุงู (config/constants.json)
```json
{
  "TIMEZONE": "Asia/Qatar",
  "SERVICE_DAY_PIVOT": "05:00",
  "QUEUE_INTERVAL_SECONDS": 120,
  "PIN_LATE_MINUTES": 5,
  "PIN_DIGITS": 2,
  "PIN_RANGE_PER_CLINIC": ["01", "20"],
  "MOBILE_QR_ONLY": false,
  "DESKTOP_BASIC_AUTH": true,
  "NOTIFY_NEAR_AHEAD": 3,
  "NOTICE_TTL_SECONDS": 30
}
```

## ๐ ุงูุฃูุงู
- ุชุฎุฒูู ุขูู ููุจูุงูุงุช ูุน ุนูููุงุช ูุชุงุจุฉ ุฐุฑูุฉ
- ุงูุชุญูู ูู ุตุญุฉ ุงูุชุฐุงูุฑ ูุจู ุงูุนุฑุถ
- ุณุฌูุงุช ุชุฏููู ุดุงููุฉ ูุฌููุน ุงูุนูููุงุช
- ูุนุงูุฌุฉ ุขููุฉ ููุฃุฎุทุงุก

## ๐ ุงููุฑุงูุจุฉ
- `/api/health` - ููุทุฉ ูุญุต ุตุญุฉ ุงููุธุงู
- ุณุฌูุงุช ุชุฏููู ููููุฉ ูู `data/audit/`
- ุชุชุจุน ุญุงูุฉ ุงูุทูุงุจูุฑ ูู ุงูููุช ุงููุนูู
- ุฅุดุนุงุฑุงุช SSE ููุชุญุฏูุซุงุช ุงูุญูุฉ

## ๐งช ุงูุงุฎุชุจุงุฑ
```bash
# ุชุดุบูู ุฌููุน ุงูุงุฎุชุจุงุฑุงุช
npm test

# ุงุฎุชุจุงุฑุงุช ูุญุฏุฏุฉ
npm run test:unit
npm run test:integration
npm run test:live
```

## ๐ฆ ุงูุจูุงุก ูุงููุดุฑ
```bash
# ูุญุต ุงูุฃููุงุน
npm run typecheck

# ุจูุงุก ูุงูู (ุฎุงุฏู + ูุงุฌูุฉ)
npm run build

# ุชุดุบูู ุงูุฅูุชุงุฌ
npm run server:start
```

## ๐ค ุงููุณุงููุฉ
ูุฐุง ูุดุฑูุน ุฏุงุฎูู ูููุฑูุฒ ุงูุทุจู ุงูุนุณูุฑู.

## ๐ ุงูุชุฑุฎูุต
ุฌููุน ุงูุญููู ูุญููุธุฉ ยฉ 2026 - ุงููุฑูุฒ ุงูุทุจู ุงูุนุณูุฑู

## ๐ ุงูุฏุนู ุงูููู
ููุฏุนู ูุงูุงุณุชูุณุงุฑุงุชุ ูุฑุฌู ุงูุชูุงุตู ูุน ูุฑูู ุชูููุฉ ุงููุนูููุงุช.

---

**ูุณุฎุฉ ุงููุธุงู**: 2026.1.0  
**ุขุฎุฑ ุชุญุฏูุซ**: ุฃูุชูุจุฑ 2025
